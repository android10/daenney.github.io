<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>Puppet and IntelliJ</title>
    <meta name="description" content="" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="//daenney.github.io/themes/Casper/favicon.ico">

    <link rel="stylesheet" type="text/css" href="//daenney.github.io/themes/Casper/assets/css/screen.css?v=1.0.0" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />

    <link rel="canonical" href="https://daenney.github.io/2015/10/21/Puppet-and-IntelliJ.html" />
    
    <meta property="og:site_name" content="Daenney" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Puppet and IntelliJ" />
    <meta property="og:description" content="Part of the fun of Puppetconf is getting to talk to so many people and learning clever new tricks from each other. I knew IntelliJ had some support for writing Puppet code but as Travis showed me it&amp;#8217;s..." />
    <meta property="og:url" content="https://daenney.github.io/2015/10/21/Puppet-and-IntelliJ.html" />
    <meta property="article:published_time" content="2015-10-20T22:00:00.000Z" />
    <meta property="article:modified_time" content="2015-10-21T16:42:12.323Z" />
    <meta property="article:tag" content="puppet" />
    <meta property="article:tag" content="intellij" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Puppet and IntelliJ" />
    <meta name="twitter:description" content="Part of the fun of Puppetconf is getting to talk to so many people and learning clever new tricks from each other. I knew IntelliJ had some support for writing Puppet code but as Travis showed me it&amp;#8217;s..." />
    <meta name="twitter:url" content="https://daenney.github.io/2015/10/21/Puppet-and-IntelliJ.html" />
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "Daenney",
    "author": {
        "@type": "Person",
        "name": "Daniele Sluijters",
        "image": "https://avatars.githubusercontent.com/u/569574?v=3",
        "url": "undefined/author/undefined",
        "sameAs": null
    },
    "headline": "Puppet and IntelliJ",
    "url": "https://daenney.github.io/2015/10/21/Puppet-and-IntelliJ.html",
    "datePublished": "2015-10-20T22:00:00.000Z",
    "dateModified": "2015-10-21T16:42:12.323Z",
    "keywords": "puppet,  intellij",
    "description": "Part of the fun of Puppetconf is getting to talk to so many people and learning clever new tricks from each other. I knew IntelliJ had some support for writing Puppet code but as Travis showed me it&amp;#8217;s..."
}
    </script>

    <meta name="generator" content="Ghost ?" />
    <link rel="alternate" type="application/rss+xml" title="Daenney" href="https://daenney.github.io/rss" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css">
</head>
<body class="post-template tag-puppet tag-intellij">

    


<header class="main-header post-head no-cover">
    <nav class="main-nav  clearfix">
        <a class="back-button icon-arrow-left" href="https://daenney.github.io">Home</a>
        <!-- <a class="subscribe-button icon-feed" href="https://daenney.github.io/rss/">Subscribe</a> -->
    </nav>
</header>

<main class="content" role="main">

    <article class="post tag-puppet tag-intellij">

        <header class="post-header">
            <h1 class="post-title">Puppet and IntelliJ</h1>
            <section class="post-meta">
                <time class="post-date" datetime="2015-10-21">21 October 2015</time>  on <a href="https://daenney.github.io/tag/puppet">puppet</a>, <a href="https://daenney.github.io/tag/intellij"> intellij</a>
            </section>
        </header>

        <section class="post-content">
            <div class="paragraph">
<p>Part of the fun of Puppetconf is getting to talk to so many people and learning clever new tricks from each other. I knew IntelliJ had some support for writing Puppet code but as <a href="https://twitter.com/tefields">Travis</a> showed me it&#8217;s been greatly improved.</p>
</div>
<div class="paragraph">
<p>If you&#8217;re running IntelliJ you&#8217;ll need to install both the Ruby and the Puppet plugins. If you&#8217;re on RubyMine only the latter is needed.</p>
</div>
<div class="paragraph">
<p>By default the Puppet plugin handles single modules really well and gives you things like code completion and refactoring support for your classes and (defined) types. If you have dependent modules which you have declared in your fixtures file and run a <code>rake spec_prep</code> IntelliJ will even give you code completion for those too.</p>
</div>
<div class="paragraph">
<p>But if you have a monolithic Puppet repository with all your modules IntelliJ is lost out of the box. It turns out though, by tweaking just a few simple settings, you can get it to work.</p>
</div>
<div class="paragraph">
<p>In IntelliJ select "Create new project" and then use the Ruby type. Name it whatever you like (Puppet perhaps?) and point it to your monolithic Puppet repo. Click finish and open up the project.</p>
</div>
<div class="paragraph">
<p>Right-click on the <code>modules/</code> directory and choose "Mark Directory As &gt; Sources Root". This doesn&#8217;t actually achieve anything directly from what I&#8217;ve been able to gather but it probably helps IntelliJ somehow. The last thing we now need to do is tell IntelliJ where all the modules are installed so it can discover them for things like code completion.</p>
</div>
<div class="paragraph">
<p>Go into your Project settings and navigate to "Languages &amp; Frameworks &gt; Puppet". Change the language level from 3.X to 4 depending on what you&#8217;re using. Next go into the "Environments" section and uncheck "Synchronize environment with VCS branch name". Edit the production environment and uncheck "Use default modulepath" and change the modulepath to point to the <code>modules/</code> directory inside your Puppet repository.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://www.dropbox.com/s/awgdfnesmam1eye/intellij-puppet-settings.png?raw=1" alt="IntelliJ Puppet Settings">
</div>
</div>
<div class="paragraph">
<p>Save the changes and done. Now, open up any Puppet manifest file and try declaring a new APT source. Assuming you have <a href="https://forge.puppetlabs.com/puppetlabs/apt">puppetlabs/apt</a> installed once you start typing the first letter of a parameter a code completion box will pop up to help you out.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://dl.dropboxusercontent.com/content_link/lDNhZOQZgXTRVZG3KWkTCfBIO19XIdUNm8LjucHiS2VGDx5HgHXHJsBIUp9vT1DJ/file" alt="IntelliJ Puppet Completion">
</div>
</div>
        </section>

        <footer class="post-footer">


            <figure class="author-image">
                <a class="img" href="" style="background-image: url(https://avatars.githubusercontent.com/u/569574?v=3)"><span class="hidden">Daniele Sluijters's Picture</span></a>
            </figure>

            <section class="author">
                <h4><a href="">Daniele Sluijters</a></h4>

                    <p>Read <a href="">more posts</a> by this author.</p>
                <div class="author-meta">
                    <span class="author-location icon-location">Stockholm</span>
                    
                </div>
            </section>


            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="https://twitter.com/share?text=Puppet%20and%20IntelliJ&amp;url=https://daenney.github.io/2015/10/21/Puppet-and-IntelliJ.html"
                    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://daenney.github.io/2015/10/21/Puppet-and-IntelliJ.html"
                    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=https://daenney.github.io/2015/10/21/Puppet-and-IntelliJ.html"
                   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>

        </footer>


    </article>

</main>



    <footer class="site-footer clearfix">
        <section class="copyright"><a href="https://daenney.github.io">Daenney</a> &copy; 2015</section>
        <section class="poweredby">Proudly published with <a href="http://hubpress.io">HubPress</a></section>
    </footer>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js?v="></script> 
      <script type="text/javascript">
        jQuery( document ).ready(function() {
          // change date with ago
          jQuery('ago.ago').each(function(){
            var element = jQuery(this).parent();
            element.html( moment(element.text()).fromNow());
          });
        });

        hljs.initHighlightingOnLoad();      
      </script>

    <script type="text/javascript" src="//daenney.github.io/themes/Casper/assets/js/jquery.fitvids.js?v=1.0.0"></script>
    <script type="text/javascript" src="//daenney.github.io/themes/Casper/assets/js/index.js?v=1.0.0"></script>

</body>
</html>
